<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Ajax</title>
    <script src="jquery/jquery.js"></script>
        <script>
    $(document).ready(function() {
        $('#search').click(function() {
            $.ajax({
                type: "GET",
                url: "serverjson.php?number=" + $('#staffNumber').val(),
                dataType: "json", //预期浏览器返回数据格式
                success: function(data) {
                    if (data.success) {
                        $('span:first').html(data.msg);
                    } else {
                        $('span:first').html("error:" + data.msg);
                    }

                },
                error: function(jqXHR) {
                    alert("error:" + jqXHR.status)
                }

            });
        });



$('#save').click(function() {
            $.ajax({
                type: "POST",
                url: "serverjson.php",
                dataType: "json", //预期浏览器返回数据格式
                data:{
                    name:$('#Sname').val(),
                    number:$('#Snumber').val(),
                    sex:$('input:radio[name=sex]:checked').val(),
                    job:$('#Sjob').val(),

                },
                success: function(data) {
                    if (data.success) {
                        $('span:last').html(data.msg);
                    } else {
                        $('span:last').html('error:' + data.msg);
                    }

                },
                error: function(jqXHR) {
                    alert('error:' + jqXHR.status)
                }

            });
        });
    });



    </script>
</head>

<body>
    <input type="text" id="staffNumber" value="">
    <button id="search">查询</button>
    <br>
    <span></span>
    <br>
    <br>
    <label for="Sname">输入员工姓名</label>
    <input type="text" id="Sname">
    <br>
    <label for="Snumber">输入员工编号</label>
    <input type="text" id="Snumber">
    <br>
    <label for="Ssexman">男</label>
    <input type="radio" id="Ssexman" name='sex' value="男">
    <label for="Ssexwoman">女</label>
    <input type="radio" id="Ssexwoman" name='sex' value="女">
    <br>
    <label for="Sjob">输入员工职位</label>
    <input type="text" id="Sjob">
    <br>
    <button id="save">保存员工信息</button>
    <br>
    <span></span>

</body>

</html>
